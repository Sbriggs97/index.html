<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cryptography Quiz (60 Questions)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f5f5f7;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --primary: #2563eb;
      --success: #16a34a;
      --danger: #dc2626;
      --border: #e5e7eb;
    }
    body {
      margin: 0;
      padding: 0 16px 48px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol";
      background: var(--bg);
      color: var(--text);
    }
    .container {
      max-width: 900px;
      margin: 40px auto;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: 0 6px 24px rgba(0,0,0,0.05);
      overflow: hidden;
    }
    header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      flex-wrap: wrap;
    }
    h1 {
      font-size: 22px;
      margin: 0;
    }
    #status {
      font-size: 14px;
      color: var(--muted);
    }
    .content {
      padding: 24px;
    }
    .question-meta {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 8px;
    }
    .question {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
    }
    .options {
      display: grid;
      gap: 8px;
      margin-bottom: 8px;
    }
    label.option {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 10px;
      background: #fff;
      cursor: pointer;
      user-select: none;
      transition: border-color 0.15s ease, box-shadow 0.15s ease;
    }
    label.option:hover {
      border-color: var(--primary);
      box-shadow: 0 2px 10px rgba(37,99,235,0.08);
    }
    input[type="checkbox"], input[type="radio"] {
      margin-top: 3px;
      transform: scale(1.15);
      accent-color: var(--primary);
      cursor: pointer;
    }
    .feedback {
      min-height: 28px;
      font-weight: 600;
      margin-top: 8px;
    }
    .feedback.ok { color: var(--success); }
    .feedback.bad { color: var(--danger); }
    .controls {
      display: flex;
      gap: 12px;
      margin-top: 14px;
    }
    button {
      padding: 10px 16px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: #fff;
      color: var(--text);
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.05s ease, box-shadow 0.15s ease, background 0.15s ease;
    }
    button.primary {
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
    }
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    .result {
      padding: 20px 24px;
      border-top: 1px solid var(--border);
      font-size: 18px;
      font-weight: 700;
    }
    .missed {
      padding: 0 24px 24px;
    }
    .missed h3 {
      margin: 10px 0 8px;
    }
    .missed-item {
      border: 1px solid var(--border);
      background: #fff;
      border-radius: 10px;
      padding: 12px;
      margin: 10px 0;
    }
    .muted {
      color: var(--muted);
      font-size: 14px;
      margin-top: 2px;
    }
    footer {
      text-align: center;
      color: var(--muted);
      font-size: 12px;
      margin-top: 16px;
      padding-bottom: 16px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Cryptography Quiz</h1>
      <div id="status">Question 1 of 60 — 59 left</div>
    </header>

    <div class="content">
      <div class="question-meta" id="meta">Select one</div>
      <div class="question" id="question">Loading…</div>
      <div class="options" id="options"></div>
      <div class="feedback" id="feedback"></div>

      <div class="controls">
        <button id="submitBtn" class="primary">Submit</button>
        <button id="nextBtn" disabled>Next</button>
      </div>
    </div>

    <div class="result" id="result" style="display:none;"></div>
    <div class="missed" id="missed"></div>
  </div>

  <footer>Tip: single-answer questions use radio buttons; multiple-answer questions use checkboxes.</footer>

  <script>
    // ====== 60-Question Bank (from your notes) ======
    const questions = [
      {q:"Encryption is best defined as:",opts:["A) Converting ciphertext into plaintext","B) Converting plaintext into ciphertext","C) Encoding data for storage efficiency","D) Representing binary as ASCII"],ans:"B"},
      {q:"Which of the following should encryption protect?",opts:["A) Data at rest only","B) Data in transit only","C) Both data at rest and data in transit","D) Only plaintext messages"],ans:"C"},
      {q:"Which are examples of full disk encryption?",opts:["A) BitLocker","B) FileVault","C) AES Crypt","D) TPM"],ans:"AB"},
      {q:"Entropy in cryptography refers to:",opts:["A) Encryption speed","B) Randomness/unpredictability","C) Prime factorization","D) Block size"],ans:"B"},
      {q:"Which encoding standard supports 65,536 characters?",opts:["A) ASCII","B) UTF-8","C) UTF-16","D) Base64"],ans:"C"},
      {q:"Which are properties of TRNGs?",opts:["A) Non-deterministic","B) Aperiodic","C) Based on physical processes","D) Always repeatable"],ans:"ABC"},
      {q:"Which operator outputs 1 when inputs differ?",opts:["A) AND","B) OR","C) XOR","D) NOT"],ans:"C"},
      {q:"What is the result of 5 mod 2?",opts:["A) 0","B) 1","C) 2","D) 3"],ans:"B"},
      {q:"Which type of numbers are fundamental in public key cryptography?",opts:["A) Rational numbers","B) Prime numbers","C) Real numbers","D) Irrational numbers"],ans:"B"},
      {q:"Which number theory concepts are used in cryptography?",opts:["A) Modular arithmetic","B) Prime numbers","C) Permutations","D) Combinations"],ans:"ABCD"},
      {q:"Which endian format stores the least significant byte first?",opts:["A) Big Endian","B) Little Endian","C) Middle Endian","D) Reverse Endian"],ans:"B"},
      {q:"Which PKCS standard defines password-based encryption?",opts:["A) PKCS #5","B) PKCS #7","C) PKCS #10","D) PKCS #12"],ans:"A"},
      {q:"Which PKCS standard is used for Certificate Signing Requests (CSR)?",opts:["A) PKCS #5","B) PKCS #7","C) PKCS #10","D) PKCS #12"],ans:"C"},
      {q:"Which are ways to check if a certificate is still valid?",opts:["A) CRL","B) OCSP","C) AES key length","D) TPM check"],ans:"AB"},
      {q:"Which events in probability are independent?",opts:["A) Rolling a die and flipping a coin","B) Drawing cards without replacement","C) Modular arithmetic","D) XOR operations"],ans:"A"},
      {q:"Which endian format stores the most significant byte first?",opts:["A) Little Endian","B) Big Endian","C) Reverse Endian","D) Mixed Endian"],ans:"B"},
      {q:"Which are properties of hashing functions?",opts:["A) One-way (irreversible)","B) Produces fixed-length output","C) Detects integrity violations","D) Requires a key pair"],ans:"ABC"},
      {q:"Which probability event means both cannot occur together?",opts:["A) Dependent","B) Independent","C) Mutually exclusive","D) Random"],ans:"C"},
      {q:"Which cipher shifts letters a fixed distance in the alphabet?",opts:["A) Caesar","B) Playfair","C) Vigenere","D) Bifid"],ans:"A"},
      {q:"Which are mono-alphabetic ciphers?",opts:["A) Caesar","B) Pigpen","C) Vigenere","D) Playfair"],ans:"AB"},
      {q:"Which cipher uses a keyword repeated across text?",opts:["A) Playfair","B) Vigenere","C) Caesar","D) Pigpen"],ans:"B"},
      {q:"Which cipher uses a 5x5 grid and omits the letter J?",opts:["A) Playfair","B) Bifid","C) Rail Fence","D) Four-square"],ans:"A"},
      {q:"Which are polyalphabetic ciphers?",opts:["A) Vigenere","B) Enigma","C) One-time pad","D) Caesar"],ans:"ABC"},
      {q:"Which WWII cipher machine ensured plaintext letters never encrypted to themselves?",opts:["A) Enigma","B) Bifid","C) Caesar","D) Pigpen"],ans:"A"},
      {q:"Which cipher is considered unbreakable if used properly?",opts:["A) Vigenere","B) Enigma","C) One-time pad","D) Caesar"],ans:"C"},
      {q:"Which is the main challenge with symmetric encryption?",opts:["A) Too slow","B) Key distribution","C) Requires two different keys","D) Doesn’t work for bulk data"],ans:"B"},
      {q:"Which block cipher mode is considered weakest?",opts:["A) ECB","B) CBC","C) CFB","D) CTR"],ans:"A"},
      {q:"Which modes make block ciphers behave like stream ciphers?",opts:["A) CFB","B) OFB","C) CTR","D) ECB"],ans:"ABC"},
      {q:"Which cipher mode allows parallel processing?",opts:["A) CBC","B) ECB","C) CTR","D) OFB"],ans:"C"},
      {q:"Which are stream ciphers?",opts:["A) RC4","B) A5/1","C) A5/2","D) ChaCha20"],ans:"ABD"},
      {q:"Which are block ciphers?",opts:["A) AES","B) DES","C) KASUMI (A5/3)","D) RC4"],ans:"ABC"},
      {q:"Which hashing method includes a secret key for authentication?",opts:["A) SHA","B) HMAC","C) MD5","D) Base64"],ans:"B"},
      {q:"Which password-based system generates a new password each use?",opts:["A) OTP","B) SHA","C) RSA","D) AES"],ans:"A"},
      {q:"Which OTP variant is based on time?",opts:["A) HOTP","B) TOTP","C) HMAC","D) SHA"],ans:"B"},
      {q:"Which public key algorithm is based on factoring large numbers?",opts:["A) Diffie-Hellman","B) RSA","C) ECC","D) OTP"],ans:"B"},
      {q:"Which algorithm is more efficient for embedded devices than RSA?",opts:["A) AES","B) ECC","C) RC4","D) DES"],ans:"B"},
      {q:"Which key exchange method is vulnerable to man-in-the-middle attacks?",opts:["A) Diffie-Hellman","B) RSA","C) ECC","D) OTP"],ans:"A"},
      {q:"Which cipher suite weakness was exploited by DHE_EXPORT attacks?",opts:["A) 512-bit primes","B) 128-bit AES","C) 3DES keys","D) SHA-1 hashes"],ans:"A"},
      {q:"Which cipher algorithm is called KASUMI?",opts:["A) A5/1","B) A5/2","C) A5/3","D) RC4"],ans:"C"},
      {q:"Which WPA2 mode uses AES-CCMP?",opts:["A) Personal and Enterprise","B) Only Personal","C) Only Enterprise","D) WEP compatibility"],ans:"A"},
      {q:"Which are weaknesses of WEP?",opts:["A) 24-bit IV","B) Weak key scheduling (FMS)","C) No replay protection","D) MIC protection"],ans:"ABC"},
      {q:"Which algorithm threatens RSA, DH, and ECC with quantum computing?",opts:["A) Grover’s","B) Shor’s","C) AES-CTR","D) RC4"],ans:"B"},
      {q:"Which algorithm halves brute force time for symmetric ciphers in quantum models?",opts:["A) Grover’s","B) Shor’s","C) RSA","D) AES"],ans:"A"},
      {q:"Which hash function is vulnerable to rainbow table attacks without salting?",opts:["A) SHA","B) HMAC","C) MD5","D) SHA-2"],ans:"A"},
      {q:"Which algorithm is used to exchange symmetric keys securely?",opts:["A) Diffie-Hellman","B) Vigenere","C) OTP","D) Pigpen"],ans:"A"},
      {q:"Which public key algorithm can also provide digital signatures?",opts:["A) El Gamal","B) Caesar","C) AES","D) OTP"],ans:"A"},
      {q:"Which advanced public key algorithm prevents adaptive chosen ciphertext attacks?",opts:["A) Cramer-Shoup","B) El Gamal","C) RSA","D) AES"],ans:"A"},
      {q:"Which describes Diffie-Hellman with elliptic curves?",opts:["A) DHE_EXPORT","B) ECDHE","C) PKCS #7","D) AES-CTR"],ans:"B"},
      {q:"Which cipher mode requires an IV for the first block?",opts:["A) ECB","B) CBC","C) CTR","D) OFB"],ans:"B"},
      {q:"Which cipher mode is least secure because patterns remain visible?",opts:["A) ECB","B) CTR","C) CBC","D) CFB"],ans:"A"},
      {q:"Which cipher mode is best for parallel processing?",opts:["A) ECB","B) CBC","C) CTR","D) OFB"],ans:"C"},
      {q:"Which cipher uses rotor machines and plugboards?",opts:["A) Enigma","B) Playfair","C) Caesar","D) Four-square"],ans:"A"},
      {q:"Which is the U.S. government’s old standard block cipher, replaced by AES?",opts:["A) DES","B) ECC","C) El Gamal","D) RC4"],ans:"A"},
      {q:"Which key exchange provides forward secrecy?",opts:["A) Static RSA","B) ECDHE","C) DES","D) OTP"],ans:"B"},
      {q:"Which hash function produces fixed-length output regardless of input?",opts:["A) SHA","B) Base64","C) ASCII","D) UTF-16"],ans:"A"},
      {q:"Which algorithm was a wireless stream cipher used in GSM?",opts:["A) A5/1","B) AES","C) ECC","D) Diffie-Hellman"],ans:"A"},
      {q:"Which wireless security protocol introduced TKIP as a patch to WEP?",opts:["A) WPA","B) WPA2","C) GSM","D) AES"],ans:"A"},
      {q:"Which protocol introduced AES-CCMP as mandatory?",opts:["A) WEP","B) WPA","C) WPA2","D) GSM"],ans:"C"},
      {q:"Which algorithm did Bitcoin adopt for its cryptography?",opts:["A) RSA","B) ECC (secp256k1)","C) Diffie-Hellman","D) AES"],ans:"B"},
      {q:"Which is the purpose of salting in encryption?",opts:["A) Makes ciphertext smaller","B) Adds randomness to prevent repeat ciphertexts","C) Replaces keys with IVs","D) Speeds up decryption"],ans:"B"}
    ];

    // ====== State ======
    let current = 0;
    let score = 0;
    const missed = [];

    // Shuffle questions (random order each run)
    questions.sort(() => Math.random() - 0.5);

    // DOM refs
    const statusEl = document.getElementById('status');
    const metaEl = document.getElementById('meta');
    const qEl = document.getElementById('question');
    const optsEl = document.getElementById('options');
    const feedbackEl = document.getElementById('feedback');
    const submitBtn = document.getElementById('submitBtn');
    const nextBtn = document.getElementById('nextBtn');
    const resultEl = document.getElementById('result');
    const missedEl = document.getElementById('missed');

    function isMulti(ansString) {
      return ansString.trim().length > 1;
    }

    function updateStatus() {
      const total = questions.length;
      const idx = current + 1;
      const left = total - idx;
      statusEl.textContent = `Question ${idx} of ${total} — ${left} left`;
    }

    function renderQuestion() {
      // Clear feedback & buttons state
      feedbackEl.textContent = '';
      feedbackEl.className = 'feedback';
      submitBtn.disabled = false;
      submitBtn.textContent = 'Submit';
      nextBtn.disabled = true;

      // Update status
      updateStatus();

      // Load question
      const q = questions[current];
      qEl.textContent = q.q;

      // Meta: single or select-all
      const multi = isMulti(q.ans);
      metaEl.textContent = multi ? 'Select all that apply' : 'Select one';

      // Render inputs (radio for single; checkbox for multi)
      const inputType = multi ? 'checkbox' : 'radio';
      const groupName = 'option';
      let html = '';
      q.opts.forEach((opt) => {
        const letter = opt.charAt(0); // "A", "B", "C", "D"
        html += `
          <label class="option">
            <input type="${inputType}" name="${groupName}" value="${letter}">
            <span>${opt}</span>
          </label>`;
      });
      optsEl.innerHTML = html;
    }

    function getUserAnswer() {
      const q = questions[current];
      const multi = isMulti(q.ans);
      const inputs = Array.from(document.querySelectorAll('input[name="option"]'));

      if (multi) {
        const selected = inputs.filter(i => i.checked).map(i => i.value);
        if (selected.length === 0) return ''; // nothing chosen
        // Sort letters so order doesn't matter
        return selected.sort().join('');
      } else {
        const chosen = inputs.find(i => i.checked);
        return chosen ? chosen.value : '';
      }
    }

    function normalizeAnswer(ansString) {
      return ansString.split('').sort().join('');
    }

    function lockInputs() {
      document.querySelectorAll('input[name="option"]').forEach(i => i.disabled = true);
    }

    function unlockInputs() {
      document.querySelectorAll('input[name="option"]').forEach(i => i.disabled = false);
    }

    // Submit handler (grade current question)
    submitBtn.addEventListener('click', () => {
      const q = questions[current];
      const user = getUserAnswer();

      if (!user) {
        feedbackEl.textContent = 'Please select an answer.';
        feedbackEl.className = 'feedback';
        return;
      }

      // Compare normalized (order-independent for multi)
      const correct = normalizeAnswer(q.ans);
      const given = normalizeAnswer(user);

      if (given === correct) {
        score++;
        feedbackEl.textContent = '✅ Correct!';
        feedbackEl.className = 'feedback ok';
      } else {
        feedbackEl.textContent = `❌ Incorrect! Correct: ${q.ans}`;
        feedbackEl.className = 'feedback bad';
        missed.push({ q: q.q, correct: q.ans, your: user });
      }

      // Lock current, switch button states
      lockInputs();
      submitBtn.disabled = true;
      nextBtn.disabled = false;
    });

    // Next handler (advance or finish)
    nextBtn.addEventListener('click', () => {
      current++;
      if (current >= questions.length) {
        // Show results
        showResults();
      } else {
        renderQuestion();
      }
    });

    function showResults() {
      // Hide question UI
      document.querySelector('.content').style.display = 'none';

      // Show final score
      resultEl.style.display = 'block';
      resultEl.textContent = `Quiz complete! You scored ${score}/${questions.length}`;

      // Missed review
      missedEl.innerHTML = '';
      if (missed.length > 0) {
        const title = document.createElement('h3');
        title.textContent = 'Review of Missed Questions:';
        missedEl.appendChild(title);

        missed.forEach(item => {
          const div = document.createElement('div');
          div.className = 'missed-item';
          div.innerHTML = `
            <div><strong>${item.q}</strong></div>
            <div class="muted">Your answer: ${item.your || 'None selected'}</div>
            <div class="muted">Correct answer: ${item.correct}</div>
          `;
          missedEl.appendChild(div);
        });
      } else {
        const p = document.createElement('p');
        p.textContent = '🎉 Perfect Score! Well done!';
        missedEl.appendChild(p);
      }
    }

    // Initial render
    renderQuestion();
  </script>
</body>
</html>
